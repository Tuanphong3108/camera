<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chọn ngôn ngữ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      animation: fadeIn 0.6s ease-in-out;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="flex flex-col justify-center items-center h-screen bg-gray-900 text-white">

  <h1 class="text-2xl font-bold mb-6">Chọn ngôn ngữ / Choose your language</h1>

  <div class="flex gap-4 mb-4">
    <button onclick="setLanguage('vietnamese.html')" 
      class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105">
      🇻🇳 Tiếng Việt
    </button>
    <button onclick="setLanguage('english.html')" 
      class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-lg font-semibold transition-transform duration-200 hover:scale-105">
      🇬🇧 English
    </button>
  </div>

  <label class="flex items-center gap-2 text-sm">
    <input type="checkbox" id="rememberLang" class="w-4 h-4">
    Nhớ ngôn ngữ
  </label>
  <p class="mt-2 text-xs text-gray-400 max-w-md text-center px-4">
    ⚠️ Lưu ý: Nếu bật "Nhớ ngôn ngữ", muốn đổi sang ngôn ngữ khác bạn phải xoá toàn bộ dữ liệu và cookie của 
    <b>tuanphong3108.github.io</b>. Việc này có thể ảnh hưởng tới các chi nhánh khác như 
    <code>/game</code>, <code>/newtab</code>, <code>/workspace-launcher</code>...
  </p>

  <script>
    // Nếu đã lưu ngôn ngữ, redirect luôn
    const savedLang = localStorage.getItem('preferredLang');
    if (savedLang) {
      window.location.href = savedLang;
    }

    function setLanguage(url) {
      if (document.getElementById('rememberLang').checked) {
        localStorage.setItem('preferredLang', url);
      }
      window.location.href = url;
    }

    // 🔧 Cheat code trong DevTools
    window.changeLanguage = function(lang) {
      let url;
      if (lang === 'vi' || lang === 'vietnamese') {
        url = 'vietnamese.html';
      } else if (lang === 'en' || lang === 'english') {
        url = 'english.html';
      } else {
        console.error("❌ Ngôn ngữ không hợp lệ. Dùng 'vi'/'vietnamese' hoặc 'en'/'english'.");
        return;
      }

      localStorage.setItem('preferredLang', url);
      console.log(`✅ Ngôn ngữ đã đổi sang: ${url}. Reload để áp dụng.`);
    };

    // 🗑 Reset ngôn ngữ đã lưu
    window.resetLanguage = function() {
      localStorage.removeItem('preferredLang');
      console.log("🗑 Ngôn ngữ đã được reset. Reload để chọn lại.");
    };
  </script>

</body>
</html>
