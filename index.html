<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Selection | MD3 Expressive</title>
    <!-- Th√™m Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Import Google Sans Flex t·ª´ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@100..1000&display=swap" rel="stylesheet">
    <!-- Import Material Symbols Outlined -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    
    <style>
        /* Import font Minecraft cho ƒë√∫ng ch·∫•t Phong */
        @font-face {
            font-family: 'Minecraft';
            src: url('https://tuanphong3108.github.io/google-sans-do-not-access/minecraft.ttf') format('truetype');
            font-weight: normal; 
            font-style: normal;
        }

        /* ƒê·ªãnh nghƒ©a bi·∫øn m√†u theo chu·∫©n Material Design 3 (Dark Theme) */
        :root {
            --md-sys-color-primary: #D0BCFF;
            --md-sys-color-on-primary: #381E72;
            --md-sys-color-surface: #1C1B1F;
            --md-sys-color-on-surface: #E6E1E5;
            --md-sys-color-surface-variant: #49454F;
            --md-sys-color-on-surface-variant: #CAC4D0;
            --md-sys-color-outline: #938F99;
            --md-sys-color-secondary-container: #4A4458;
            --md-sys-color-on-secondary-container: #E8DEF8;
        }

        body {
            font-family: 'Google Sans Flex', sans-serif;
            background-color: var(--md-sys-color-surface);
            color: var(--md-sys-color-on-surface);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .mc-font {
            font-family: 'Minecraft', sans-serif;
        }

        /* Hi·ªáu ·ª©ng m·ªù d·∫ßn khi t·∫£i trang */
        .fade-in {
            animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Card Container chu·∫©n MD3 */
        .main-card {
            background-color: var(--md-sys-color-surface-variant);
            border-radius: 28px;
            padding: 32px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            z-index: 10;
        }

        /* Button phong c√°ch Expressive */
        .lang-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 18px 24px;
            margin-bottom: 12px;
            border-radius: 16px;
            background-color: #313033;
            border: 1.5px solid var(--md-sys-color-outline);
            transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
            position: relative;
            overflow: hidden;
        }

        .lang-btn:hover {
            background-color: var(--md-sys-color-primary);
            color: var(--md-sys-color-on-primary);
            border-color: transparent;
            transform: scale(1.03);
        }

        /* Material Symbols Outlined + FILL on hover */
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'grad' 0, 'opsz' 24;
            transition: font-variation-settings 0.3s ease;
        }

        .lang-btn:hover .material-symbols-outlined {
            font-variation-settings: 'FILL' 1;
        }

        /* Loading Overlay Custom */
        #loading-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--md-sys-color-surface);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-gif-container {
            width: 120px; /* TƒÉng ƒë·ªô r·ªông container ƒë·ªÉ GIF tho·∫£i m√°i */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .loading-gif {
            width: 100%; /* Chi·ªÅu ngang ch√≠nh x√°c theo container */
            height: auto;
            object-fit: contain;
            /* Tinh ch·ªânh filter ƒë·ªÉ ƒë·ªìng b·ªô m√†u v√† l√†m n·ªïi b·∫≠t */
            filter: brightness(1.2) sepia(0.3) hue-rotate(240deg) saturate(2);
            drop-shadow: 0 0 10px rgba(208, 188, 255, 0.3);
        }

        .loading-text {
            margin-top: 24px;
            color: var(--md-sys-color-primary);
            letter-spacing: 4px;
            font-size: 14px;
            opacity: 0.8;
            animation: pulse 1.5s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.4; transform: scale(0.98); }
            50% { opacity: 1; transform: scale(1.05); }
        }

        /* Exit Animation */
        .fade-exit {
            animation: fadeExit 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes fadeExit {
            to { opacity: 0; transform: translateY(-20px) scale(0.95); }
        }
    </style>
</head>
<body class="fade-in">

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-gif-container">
            <img src="https://tuanphong3108.github.io/md3-loading/Loading_Indicator.gif" alt="Loading" class="loading-gif">
        </div>
        <div class="loading-text mc-font text-center">INITIALIZING...</div>
    </div>

    <!-- Main UI Card -->
    <div class="main-card" id="app-container">
        <!-- Icon To -->
        <div class="flex justify-center mb-6">
            <div class="w-16 h-16 rounded-full flex items-center justify-center bg-[#E8DEF8] text-[#381E72]">
                <span class="material-symbols-outlined text-4xl">language</span>
            </div>
        </div>

        <h1 class="text-2xl font-semibold mb-2 tracking-tight">Select Language</h1>
        <p class="mc-font text-xs text-gray-400 mb-8 uppercase tracking-widest">Ch·ªçn ng√¥n ng·ªØ ƒë·ªÉ ti·∫øp t·ª•c</p>

        <!-- N√∫t ch·ªçn ng√¥n ng·ªØ -->
        <div class="space-y-3">
            <button onclick="saveAndGo('vietnamese.html')" class="lang-btn">
                <span class="flex items-center gap-4">
                    <span class="text-2xl">üáªüá≥</span>
                    <span class="font-medium text-lg">Ti·∫øng Vi·ªát</span>
                </span>
                <span class="material-symbols-outlined">arrow_circle_right</span>
            </button>

            <button onclick="saveAndGo('english.html')" class="lang-btn">
                <span class="flex items-center gap-4">
                    <span class="text-2xl">üá¨üáß</span>
                    <span class="font-medium text-lg">English</span>
                </span>
                <span class="material-symbols-outlined">arrow_circle_right</span>
            </button>
        </div>

        <!-- L∆∞u √Ω nh·ªè -->
        <div class="mt-10 pt-6 border-t border-gray-700 opacity-50 text-left text-[11px] leading-relaxed">
            <div class="flex items-start gap-2 mb-1">
                <span class="material-symbols-outlined text-sm">info</span>
                <p>Note: You can change the language in the "About" section later.</p>
            </div>
            <div class="flex items-start gap-2">
                <span class="material-symbols-outlined text-sm">info</span>
                <p>L∆∞u √Ω: B·∫°n c√≥ th·ªÉ ƒë·ªïi ng√¥n ng·ªØ trong ph·∫ßn "V·ªÅ ·ª©ng d·ª•ng" sau n√†y.</p>
            </div>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'preferredLang';
        const loadingScreen = document.getElementById('loading-screen');
        const appContainer = document.getElementById('app-container');

        // KI·ªÇM TRA B·ªò NH·ªö TR√åNH DUY·ªÜT NGAY KHI LOAD
        (function checkStorage() {
            try {
                const savedLang = localStorage.getItem(STORAGE_KEY);
                if (savedLang) {
                    // N·∫øu ƒë√£ c√≥ ng√¥n ng·ªØ, ·∫©n UI v√† nh·∫£y th·∫≥ng v√†o loading
                    appContainer.style.display = 'none';
                    showLoadingAndRedirect(savedLang);
                }
            } catch (e) {
                console.error("Storage access denied:", e);
            }
        })();

        /**
         * L∆∞u ng√¥n ng·ªØ v√† th·ª±c hi·ªán hi·ªáu ·ª©ng chuy·ªÉn c·∫£nh
         */
        function saveAndGo(url) {
            try {
                // L∆ØU V√ÄO TR√åNH DUY·ªÜT
                localStorage.setItem(STORAGE_KEY, url);
                
                // Hi·ªáu ·ª©ng tho√°t cho card
                appContainer.classList.add('fade-exit');
                
                setTimeout(() => {
                    showLoadingAndRedirect(url);
                }, 400);
            } catch (e) {
                window.location.href = url;
            }
        }

        /**
         * Hi·ªÉn th·ªã m√†n h√¨nh loading r·ªìi m·ªõi chuy·ªÉn trang
         */
        function showLoadingAndRedirect(url) {
            loadingScreen.style.display = 'flex';
            
            // Gi·∫£ l·∫≠p th·ªùi gian load ƒë·ªÉ nh√¨n GIF cho s∆∞·ªõng
            setTimeout(() => {
                window.location.href = url;
            }, 1500);
        }

        // Ch·∫∑n chu·ªôt ph·∫£i
        document.addEventListener('contextmenu', e => e.preventDefault());

        // Ch·∫∑n k√©o th·∫£
        document.addEventListener('dragstart', e => e.preventDefault());
    </script>
</body>
</html>
